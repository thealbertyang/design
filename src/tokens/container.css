/*
 * Container Query Utilities
 * Enable container queries for responsive component design
 * https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Container_queries
 *
 * Browser support: ~95% (Chrome 105+, Safari 16+, Firefox 110+)
 */

@layer utilities {
  :root {
    /* Container breakpoint tokens - derived from spacing scale */
    --container-bp-xs: 320px;
    --container-bp-sm: 480px;
    --container-bp-md: 640px;
    --container-bp-lg: 768px;
    --container-bp-xl: 1024px;

    /* Container query unit helpers */
    --cqw-10: 10cqw;
    --cqw-20: 20cqw;
    --cqw-25: 25cqw;
    --cqw-33: 33.333cqw;
    --cqw-50: 50cqw;
    --cqw-75: 75cqw;
    --cqw-100: 100cqw;

    /* Container query height units */
    --cqh-10: 10cqh;
    --cqh-20: 20cqh;
    --cqh-25: 25cqh;
    --cqh-50: 50cqh;
    --cqh-100: 100cqh;

    /* Container query min/max dimension */
    --cqmin-50: 50cqmin;
    --cqmin-100: 100cqmin;
    --cqmax-50: 50cqmax;
    --cqmax-100: 100cqmax;
  }

  /* Container types */
  .container-inline {
    container-type: inline-size;
  }

  .container-size {
    container-type: size;
  }

  .container-normal {
    container-type: normal;
  }

  /* Named containers */
  .container-card {
    container-type: inline-size;
    container-name: card;
  }

  .container-panel {
    container-type: inline-size;
    container-name: panel;
  }

  .container-section {
    container-type: inline-size;
    container-name: section;
  }

  /* Container query utilities at xs breakpoint (320px) */
  @container (min-width: 320px) {
    .cq-xs\:flex {
      display: flex;
    }
    .cq-xs\:grid {
      display: grid;
    }
    .cq-xs\:hidden {
      display: none;
    }
    .cq-xs\:block {
      display: block;
    }
    .cq-xs\:gap-4 {
      gap: var(--static-space-4);
    }
    .cq-xs\:gap-8 {
      gap: var(--static-space-8);
    }
  }

  /* Container query utilities at sm breakpoint (480px) */
  @container (min-width: 480px) {
    .cq-sm\:flex {
      display: flex;
    }
    .cq-sm\:grid {
      display: grid;
    }
    .cq-sm\:hidden {
      display: none;
    }
    .cq-sm\:block {
      display: block;
    }
    .cq-sm\:flex-row {
      flex-direction: row;
    }
    .cq-sm\:flex-col {
      flex-direction: column;
    }
    .cq-sm\:gap-8 {
      gap: var(--static-space-8);
    }
    .cq-sm\:gap-12 {
      gap: var(--static-space-12);
    }
    .cq-sm\:p-16 {
      padding: var(--static-space-16);
    }
  }

  /* Container query utilities at md breakpoint (640px) */
  @container (min-width: 640px) {
    .cq-md\:flex {
      display: flex;
    }
    .cq-md\:grid {
      display: grid;
    }
    .cq-md\:hidden {
      display: none;
    }
    .cq-md\:block {
      display: block;
    }
    .cq-md\:flex-row {
      flex-direction: row;
    }
    .cq-md\:flex-col {
      flex-direction: column;
    }
    .cq-md\:gap-12 {
      gap: var(--static-space-12);
    }
    .cq-md\:gap-16 {
      gap: var(--static-space-16);
    }
    .cq-md\:p-20 {
      padding: var(--static-space-20);
    }
    .cq-md\:grid-cols-2 {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Container query utilities at lg breakpoint (768px) */
  @container (min-width: 768px) {
    .cq-lg\:flex {
      display: flex;
    }
    .cq-lg\:grid {
      display: grid;
    }
    .cq-lg\:hidden {
      display: none;
    }
    .cq-lg\:block {
      display: block;
    }
    .cq-lg\:flex-row {
      flex-direction: row;
    }
    .cq-lg\:gap-16 {
      gap: var(--static-space-16);
    }
    .cq-lg\:gap-24 {
      gap: var(--static-space-24);
    }
    .cq-lg\:p-24 {
      padding: var(--static-space-24);
    }
    .cq-lg\:grid-cols-2 {
      grid-template-columns: repeat(2, 1fr);
    }
    .cq-lg\:grid-cols-3 {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Container query utilities at xl breakpoint (1024px) */
  @container (min-width: 1024px) {
    .cq-xl\:flex {
      display: flex;
    }
    .cq-xl\:grid {
      display: grid;
    }
    .cq-xl\:hidden {
      display: none;
    }
    .cq-xl\:block {
      display: block;
    }
    .cq-xl\:gap-24 {
      gap: var(--static-space-24);
    }
    .cq-xl\:gap-32 {
      gap: var(--static-space-32);
    }
    .cq-xl\:p-32 {
      padding: var(--static-space-32);
    }
    .cq-xl\:grid-cols-3 {
      grid-template-columns: repeat(3, 1fr);
    }
    .cq-xl\:grid-cols-4 {
      grid-template-columns: repeat(4, 1fr);
    }
  }
}
